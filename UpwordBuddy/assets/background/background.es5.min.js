"use strict";
chrome.extension.onRequest.addListener(function(n, t, i) {
    switch (n.cmd) {
        case "bg_read_file":
            $.ajax({
                url: chrome.extension.getURL(n.templateUrl),
                dataType: "html",
                success: i
            });
            break;
        case "bg_stop":
            chrome.tts.stop();
            break;
        case "bg_open_opction":
            chrome.tabs.create({
                url: chrome.extension.getURL("cover.html")
            });
            break;
        case "bg_clear_badge":
            badgeCount = 0;
            chrome.browserAction.setBadgeText({
                text: ""
            })
    }
});
chrome.runtime.onMessage.addListener(function(n) {
    chrome.tts.speak(n.toSay, {
        gender: "female"
    })
});
chrome.runtime.onInstalled.addListener(function(n) {
    if (n.reason == "install") chrome.tabs.create({
        url: chrome.extension.getURL("cover.html")
    }), chrome.storage.sync.set({
        setting: {
            Watcher: !0,
            Sound: !0
        }
    });
    else if (n.reason == "update") {
        var t = chrome.runtime.getManifest().version;
        console.log("Updated from " + n.previousVersion + " to " + t + " + !")
    }
});